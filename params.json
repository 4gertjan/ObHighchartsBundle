{"note":"Don't delete this file! It's used internally to help with page regeneration.","tagline":"Symfony2 Bundle that aims to ease the use of highcharts to display rich graph and charts in your Symfony2 application","body":"# ObHighchartsBundle\r\n\r\n`ObHighchartsBundle` aims to ease the use of highcharts to display rich graph and charts in your Symfony2 application by\r\nproviding Twig extensions and PHP objects to do the heavy lifting. The bundle uses the excellent JS library [Highcharts](http://www.highcharts.com).\r\n\r\n[![Build Status](https://secure.travis-ci.org/marcaube/ObHighchartsBundle.png?branch=master)](http://travis-ci.org/marcaube/ObHighchartsBundle)\r\n\r\n## Content\r\n* The Why\r\n* How to get started / Installation\r\n* Usage\r\n    * Make a basic line-chart\r\n    * Use mootools instead of jQuery\r\n    * Use js anonymous functions\r\n* Cookbook\r\n    * Pie chart with legend (like [highcharts.com/demo/pie-legend](http://www.highcharts.com/demo/pie-legend))\r\n    * Make a Multi-axes plot (like [highcharts.com/demo/combo-multi-axes](http://www.highcharts.com/demo/combo-multi-axes))\r\n\r\n## Why ?\r\n\r\nBecause I grew tired of defining data series in php and then doing the exact same thing with a different syntax in \r\njavascript to display the graph. I needed something to do the heavy lifting for me and take care of the boilerplate \r\ncode.\r\n\r\n## How to get started\r\n\r\n### Installation\r\n\r\n1. Add `\"ob/highcharts-bundle\": \"dev-master\"` to your `composer.json` file\r\n\r\n   This bundle depends on Zend's Json module, and because composer does not load repositories recursively, you may want\r\n   to add this to your composer to load only the Json module (200k) instead of the complete Zend Framework (95M). \r\n   See [why can't composer load repositories recursively](http://getcomposer.org/doc/faqs/why-can%27t-composer-load-repositories-recursively.md)\r\n   \r\n   ``` json\r\n    \"repositories\": [\r\n        {\r\n            \"type\": \"composer\",\r\n            \"url\": \"http://packages.zendframework.com/\"\r\n        }\r\n    ]\r\n   ```\r\n\r\n   Your Symfony2 composer file would look like\r\n   ``` json\r\n   {\r\n       \"name\": \"symfony/framework-standard-edition\",\r\n       \"description\": \"The \\\"Symfony Standard Edition\\\" distribution\",\r\n       \"autoload\": {\r\n           \"psr-0\": { \"\": \"src/\" }\r\n       },\r\n       \"require\": {\r\n           \"php\": \">=5.3.3\",\r\n           \"symfony/symfony\": \"2.1.*\",\r\n           \"doctrine/orm\": \">=2.2.3,<2.4-dev\",\r\n           \"doctrine/doctrine-bundle\": \"1.0.*\",\r\n           \"twig/extensions\": \"1.0.*\",\r\n           \"symfony/assetic-bundle\": \"2.1.*\",\r\n           \"symfony/swiftmailer-bundle\": \"2.1.*\",\r\n           \"symfony/monolog-bundle\": \"2.1.*\",\r\n           \"sensio/distribution-bundle\": \"2.1.*\",\r\n           \"sensio/framework-extra-bundle\": \"2.1.*\",\r\n           \"sensio/generator-bundle\": \"2.1.*\",\r\n           \"jms/security-extra-bundle\": \"1.2.*\",\r\n           \"jms/di-extra-bundle\": \"1.1.*\",\r\n           \"ob/highcharts-bundle\": \"dev-master\"\r\n       },\r\n       \"scripts\": {\r\n           \"post-install-cmd\": [\r\n               \"Sensio\\\\Bundle\\\\DistributionBundle\\\\Composer\\\\ScriptHandler::buildBootstrap\",\r\n               \"Sensio\\\\Bundle\\\\DistributionBundle\\\\Composer\\\\ScriptHandler::clearCache\",\r\n               \"Sensio\\\\Bundle\\\\DistributionBundle\\\\Composer\\\\ScriptHandler::installAssets\",\r\n               \"Sensio\\\\Bundle\\\\DistributionBundle\\\\Composer\\\\ScriptHandler::installRequirementsFile\"\r\n           ],\r\n           \"post-update-cmd\": [\r\n               \"Sensio\\\\Bundle\\\\DistributionBundle\\\\Composer\\\\ScriptHandler::buildBootstrap\",\r\n               \"Sensio\\\\Bundle\\\\DistributionBundle\\\\Composer\\\\ScriptHandler::clearCache\",\r\n               \"Sensio\\\\Bundle\\\\DistributionBundle\\\\Composer\\\\ScriptHandler::installAssets\",\r\n               \"Sensio\\\\Bundle\\\\DistributionBundle\\\\Composer\\\\ScriptHandler::installRequirementsFile\"\r\n           ]\r\n       },\r\n       \"minimum-stability\": \"dev\",\r\n       \"extra\": {\r\n           \"symfony-app-dir\": \"app\",\r\n           \"symfony-web-dir\": \"web\"\r\n       },\r\n       \"repositories\":[\r\n           {\r\n               \"type\":\"composer\",\r\n               \"url\":\"http://packages.zendframework.com/\"\r\n           }\r\n       ]\r\n   }\r\n   ```\r\n\r\n2. Run `php composer.phar install`\r\n\r\n3. Register the bundle in your `app/AppKernel.php`:\r\n\r\n   ``` php\r\n       <?php\r\n       ...\r\n       public function registerBundles()\r\n       {\r\n           $bundles = array(\r\n               ...\r\n               new Ob\\HighchartsBundle\\ObHighchartsBundle(),\r\n               ...\r\n           );\r\n       ...\r\n   ```\r\n\r\n## Usage\r\n\r\n### Basic Line Chart\r\n\r\nIn your controller ...\r\n\r\n``` php\r\n    <?php\r\n    use Ob\\HighchartsBundle\\Highcharts\\Highchart;\r\n\r\n    // ...\r\n    public function chartAction()\r\n    {\r\n        // Chart\r\n        $series = array(\r\n            array(\"name\" => \"Data Serie Name\",    \"data\" => array(1,2,4,5,6,3,8))\r\n        );\r\n\r\n        $ob = new Highchart();\r\n        $ob->chart->renderTo('linechart');  // The #id of the div where to render the chart\r\n        $ob->title->text('Chart Title');\r\n        $ob->xAxis->title(array('text'  => \"Horizontal axis title\"));\r\n        $ob->yAxis->title(array('text'  => \"Vertical axis title\"));\r\n        $ob->series($series);\r\n\r\n        return $this->render('::your_template.html.twig', array(\r\n            'chart' => $ob\r\n        ));\r\n    }\r\n```\r\n\r\nIn your template ...\r\n\r\n``` html\r\n<!-- Load jQuery from Google's CDN if needed -->\r\n<script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\" type=\"text/javascript\"></script>\r\n\r\n<script src=\"{{ asset('bundles/obhighcharts/js/highcharts/highcharts.js') }}\"></script>\r\n<script src=\"{{ asset('bundles/obhighcharts/js/highcharts/modules/exporting.js') }}\"></script>\r\n<script type=\"text/javascript\">\r\n    {{ chart(chart) }}\r\n</script>\r\n\r\n<div id=\"linechart\" style=\"min-width: 400px; height: 400px; margin: 0 auto\"></div>\r\n```\r\n\r\nVoil√† !\r\n\r\n\r\n### Use highcharts with mootools\r\nIf you'd like to use mootools instead of jquery to render your charts, just load the mootools adapter use the second argument of the twig extension like this \r\n``` html\r\n<!-- Load MooTools from Google's CDN if needed and the highcharts adapter -->\r\n<script src=\"https://ajax.googleapis.com/ajax/libs/mootools/1.4.2/mootools-yui-compressed.js\" type=\"text/javascript\"></script>\r\n<script src=\"{{ asset('bundles/obhighcharts/js/highcharts/adapters/mootools-adapter.js') }}\" type=\"text/javascript\"></script>\r\n\r\n<script src=\"{{ asset('bundles/obhighcharts/js/highcharts/highcharts.js') }}\"></script>\r\n<script src=\"{{ asset('bundles/obhighcharts/js/highcharts/modules/exporting.js') }}\"></script>\r\n<script type=\"text/javascript\">\r\n    {{ chart(chart, 'mootools') }}\r\n</script>\r\n\r\n<div id=\"linechart\" style=\"min-width: 400px; height: 400px; margin: 0 auto\"></div>\r\n```\r\n\r\n### Use a Javascript anonymous function\r\nThere are several use case where you need to define a js function, let's see how to use one for a tooltip formatter\r\n\r\n``` php\r\n// ...\r\n$func = new Zend\\Json\\Expr(\"function() {\r\n    return 'The value for <b>'+ this.x +\r\n    '</b> is <b>'+ this.y +'</b>';\r\n}\");\r\n\r\n$ob = new Highchart();\r\n$ob->tooltip->formatter($func);\r\n// ...\r\n```\r\n\r\n## Cookbook\r\n\r\n### Pie chart with legend\r\nThis is a simple recipe to re-create the pie-chart demo with legend at [highcharts.com/demo/pie-legend](http://www.highcharts.com/demo/pie-legend)\r\n\r\n```php\r\n$ob = new Highchart();\r\n$ob->chart->renderTo('linechart');\r\n$ob->title->text('Browser market shares at a specific website in 2010');\r\n$ob->plotOptions->pie(array(\r\n    'allowPointSelect'  => true,\r\n    'cursor'    => 'pointer',\r\n    'dataLabels'    => array('enabled' => false),\r\n    'showInLegend'  => true\r\n));\r\n$data = array(\r\n    array('Firefox', 45.0),\r\n    array('IE', 26.8),\r\n    array('Chrome', 12.8),\r\n    array('Safari', 8.5),\r\n    array('Opera', 6.2),\r\n    array('Others', 0.7),\r\n);\r\n$ob->series(array(array('type' => 'pie','name' => 'Browser share', 'data' => $data)));\r\n```\r\n\r\n### Multi-axes plot\r\nThis is a simple recipe for creating a plot with multiple y-axes, similar to [the highcharts demo](http://www.highcharts.com/demo/combo-multi-axes)\r\n\r\n```php\r\n$series = array(\r\n    array(\r\n        'name'  => 'Rainfall',\r\n        'type'  => 'column',\r\n        'color' => '#4572A7',\r\n        'yAxis' => 1,\r\n        'data'  => array(49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4),\r\n    ),\r\n    array(\r\n        'name'  => 'Temperature',\r\n        'type'  => 'spline',\r\n        'color' => '#AA4643',\r\n        'data'  => array(7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 26.5, 23.3, 18.3, 13.9, 9.6),\r\n    ),\r\n);\r\n$yData = array(\r\n    array(\r\n        'labels' => array(\r\n            'formatter' => new Expr('function () { return this.value + \" degrees C\" }'),\r\n            'style'     => array('color' => '#AA4643')\r\n        ),\r\n        'title' => array(\r\n            'text'  => 'Temperature',\r\n            'style' => array('color' => '#AA4643')\r\n        ),\r\n        'opposite' => true,\r\n    ),\r\n    array(\r\n        'labels' => array(\r\n            'formatter' => new Expr('function () { return this.value + \" mm\" }'),\r\n            'style'     => array('color' => '#4572A7')\r\n        ),\r\n        'gridLineWidth' => 0,\r\n        'title' => array(\r\n            'text'  => 'Rainfall',\r\n            'style' => array('color' => '#4572A7')\r\n        ),\r\n    ),\r\n);\r\n$categories = array('Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec');\r\n\r\n$ob = new Highchart();\r\n$ob->chart->renderTo('container'); // The #id of the div where to render the chart\r\n$ob->chart->type('column');\r\n$ob->title->text('Average Monthly Weather Data for Tokyo');\r\n$ob->xAxis->categories($categories);\r\n$ob->yAxis($yData);\r\n$ob->legend->enabled(false);\r\n$formatter = new Expr('function () {\r\n                 var unit = {\r\n                     \"Rainfall\": \"mm\",\r\n                     \"Temperature\": \"degrees C\"\r\n                 }[this.series.name];\r\n                 return this.x + \": <b>\" + this.y + \"</b> \" + unit;\r\n             }');\r\n$ob->tooltip->formatter($formatter);\r\n$ob->series($series);\r\n```\r\n","google":"","name":"Obhighchartsbundle"}